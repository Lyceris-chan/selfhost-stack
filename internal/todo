- [x] Implement dynamic grid layouts (3x3, 4x4) based on screen size, removing hardcoded service name logic
- [x] Refine chip width and spacing to strictly follow M3 Material Design auto-layout rules
- [x] Verify all UI interactions (toggles, switches, buttons) via automated testing
- [x] Audit container logs and console for errors during `-p -y` execution
- [x] Execute `zima.sh -p -y` with provided credentials (dockerhub: laciachan, WG secrets) and verify success
- [x] Inform user: Disable dynamic MAC addresses on their device to ensure firewall consistency
- [x] memory usage shows as 9 MB / 1024 MB (both sides labeled)
- [x] ensure UI elements are properly aligned (verified via Puppeteer and manual audit)
- [x] Fixed chip-box wrapping issues (implemented flex-nowrap with horizontal scroll)
- [x] Fixed system logs scrolling (implemented max-height for log container)
- [x] dont show cpu and ram usage on the service chips (moved to settings cog/metrics)
- [x] remove 'Private Instance' text from all chips
- [x] make the trash can icon color less aggressive (dimmed surface variant)
- [x] restyle optimal badge (success-container theme, edge-aligned)
- [x] log filtering implementation (level and category filters active)
- [x] human-readable log translations (common API calls translated to plain English)
- [x] iptables rules clarification (logs specify only stack-specific rules are touched)
- [x] ensure we strictly follow m3.material.io rules (validating colors and spacing)
- [x] SIMULATE ALL INTERACTIONS: Click, toggle, and switch every UI element to verify stability
- [x] clearer update progress (snackbars and detailed logs for builds)
- [x] ensure theme sticks on restart (implementing persistent theme API)
- [x] disabling portainer telemetry (confirmed --no-analytics in compose)
- [x] color reset works as intended (fixed localStorage handling)
- [x] fix VERT URL typo in dashboard and README
- [x] implement category filter bar at top
- [x] explain DHI images in README
- [x] fix 'View in Portainer' failure logic
- [x] Make UI grid values dynamic (3x3, 4x4) and not hard-coded for service names
- [x] Ensure chips width and spacing match intelligently using M3 rules (Auto-layout based on screen size)
- [x] Add warning/instruction to disable dynamic MAC addresses for firewall reliability (Logged to user)
- [x] Audit container and console logs for any hidden failures during -p -y deployment
- [x] Use -p -y with zima.sh to test non-interactive flow and ensure no key prompts
- [x] Verify DockerHub credentials (laciachan) and WireGuard secrets are utilized correctly via environment/config without hardcoding

 NAT-PMP (Port Forwarding) is not required. so dont tell the user to set it up as it reduces the attack surface leaving it off 
did protonVPN or desec need to be white listed in adguard if not implement a flag and document the flags and help option in the readme to allow me to allowlist proton with those preset rules we use now for my personal usage (to allow proton vpn usage e.g browser extension) will break DNS lookups through wireguard but its my own personal choice and will also break access to the frontend but thats a risk im aware off document this properly

attempt to improve the readme and consider the following suggestions for improvements make sure to also think yourself for improvements proper flow and ensure NO INFORMATION OR KNOWLEDGE GETS LOST!:  Improvements for ZimaOS Privacy Hub
Below is a comprehensive draft of improvements organized by section. This preserves all existing information while enhancing clarity and adding missing details referenced in zima.sh.

1. Add Quick Start Section (New - Insert after Hero)
markdown## ‚ö° Quick Start

**Want to deploy immediately?** Run this single command:
```bash
./zima.sh -p -y
```

This automated mode:
- ‚úÖ Generates secure random passwords automatically
- ‚úÖ Skips all interactive prompts
- ‚úÖ Creates a complete privacy stack in ~15 minutes
- ‚úÖ Exports credentials to `protonpass_import.csv`

**Read the full [Prerequisites](#prerequisites) below for advanced configuration options.**

---
2. Expand Table of Contents (Replace existing)
markdown## üìö Contents
- [Quick Start](#quick-start) ‚ö° **New users start here**
- [Getting Started](#getting-started)
  - [Prerequisites & Infrastructure](#prerequisites--infrastructure)
  - [Installation](#installation)
  - [Post-Install: Credentials](#post-install-where-are-my-passwords)
  - [Troubleshooting](#troubleshooting)
- [Management Dashboard](#management-dashboard)
- [Included Services](#included-services)
- [Network Configuration](#network-configuration)
  - [Port Forwarding](#port-forwarding)
  - [DNS Setup](#dns-setup)
  - [VPN Architecture](#vpn-architecture)
  - [Advanced Hardening](#advanced-network-hardening-explore)
- [Security & Privacy](#security-privacy)
- [System Requirements](#system-requirements--scaling)
- [Advanced Setup](#advanced-setup)

3. Enhanced Prerequisites Section (Replace existing Prerequisites section)Analyzed script structure and reorganized content into checklist format.58sLooking at the script, I can see it validates specific commands, has detailed WireGuard setup instructions, and handles various tokens. Let me make this section more actionable with a checklist format.markdown### Prerequisites & Infrastructure

**Pre-Flight Checklist** - Gather these before running the installation:

#### ‚úÖ Required Items

- [ ] **Docker Hub Credentials** ([Create here](https://hub.docker.com/settings/security))
  - Username (same for Docker Hub and `dhi.io`)
  - Personal Access Token with **read/pull permissions only**
  - Used to pull hardened images and avoid rate limits
  
- [ ] **ProtonVPN WireGuard Configuration** ([Get your .conf file](#protonvpn-wireguard-conf---the-anonymity-engine))
  - Required for Gluetun VPN gateway
  - Hides your home IP from upstream services
  - Only ProtonVPN is explicitly tested (other WireGuard providers untested)

#### üîß Optional (But Recommended)

- [ ] **deSEC Domain + Token** ([Sign up at deSEC.io](https://desec.io))
  - Enables trusted SSL certificates (no browser warnings)
  - Unlocks Private DNS for Android/iOS
  - Free dynamic DNS service
  
- [ ] **GitHub Personal Access Token** (For Scribe frontend)
  - Classic token with `gist` scope only
  - [Generate here](https://github.com/settings/tokens)
  - Avoids rate limits (60/hr ‚Üí 5000/hr)

- [ ] **Odido OAuth Token** (Dutch users only)
  - Required for automated data bundle management
  - Obtain via [Odido Authenticator](https://github.com/GuusBackup/Odido.Authenticator)

---

<details>
<summary><strong>üîç Quick Explainers - Click to expand</strong></summary>

<a id="explainer-1"></a>
1. **DHI (Docker Hardened Images)**: Security-focused base images from `dhi.io` that strip telemetry, minimize attack surface, and optimize performance for self-hosting environments.

<a id="explainer-2"></a>
2. **DDNS (Dynamic DNS)**: Automatically updates your domain when your home IP changes, keeping services accessible without manual DNS edits.

<a id="explainer-3"></a>
3. **SSL / Trusted SSL**: 
   - **Trusted**: Certificate from Let's Encrypt (public CA) - no browser warnings
   - **Self-Signed**: Also encrypted, but triggers security warnings without manual trust

<a id="explainer-4"></a>
4. **Classic PAT (Personal Access Token)**: API authentication token you create in account settings (GitHub, Docker Hub, etc.) with specific permissions/scopes.

<a id="explainer-5"></a>
5. **CDN (Content Delivery Network)**: Third-party servers that host common libraries/assets. This stack serves everything locally for privacy.

</details>

---

<details>
<summary><strong>üì• ProtonVPN WireGuard (.conf) - The Anonymity Engine</strong></summary>

This configuration is **critical** for privacy. It routes all frontend traffic (Invidious, Redlib, etc.) through an encrypted tunnel, ensuring upstream services never see your home IP address.

**Step-by-Step Guide:**

1. **Login** to [ProtonVPN Downloads](https://account.protonvpn.com/downloads)
2. **Navigate** to the WireGuard section
3. **Name** your configuration (e.g., "Privacy-Hub-Main")
4. **Enable NAT-PMP** (Port Forwarding toggle) - **Required for optimal performance**
5. **Select** a Free server in your preferred region
6. **Download** the `.conf` file

**During Installation:**
- You'll be prompted to paste the entire file contents
- Or set `WG_CONF_B64` environment variable with base64-encoded config

**üõ°Ô∏è Privacy Impact:**  
Without this configuration, services will expose your real home IP to YouTube, Reddit, and other providers. With it enabled, they only see ProtonVPN's shared commercial IP address.

**üìä Bandwidth Considerations:**  
The script tracks VPN data usage. On mobile devices connected via your home WireGuard (WG-Easy), only privacy frontend traffic routes through the ProtonVPN tunnel - streaming apps like Netflix/Spotify maintain full direct speed.

</details>

4. Add Verification Section (New - Insert after Installation)
markdown### ‚úÖ Verify Installation

After deployment completes, run these checks to confirm everything is operational:

**1. Check Container Health:**
```bash
docker ps --format "table {{.Names}}\t{{.Status}}\t{{.Ports}}"
```

Expected output: All containers should show `Up` or `healthy` status.

**2. Test Dashboard Access:**
```bash
curl -I http://:8081
```

Expected: HTTP 200 response

**3. Verify DNS Resolution:**
```bash
dig @ example.com
```

Expected: Valid A record response (confirms AdGuard/Unbound are working)

**4. Check VPN Tunnel:**
```bash
docker exec gluetun wget -qO- http://ifconfig.me
```

Expected: ProtonVPN IP address (different from your home IP)

**üö® Troubleshooting:** If any check fails, review deployment logs:
```bash
tail -f /DATA/AppData/privacy-hub/deployment.log
```

5. Expand Troubleshooting Section (New subsection under Network Configuration)
markdown### üîß Troubleshooting

#### "My Internet Broke" - Critical Recovery

**What Happened?**  
Your Privacy Hub machine hosts your DNS resolver. If it loses power, crashes, or the script fails mid-update, devices lose the ability to translate domain names (like `google.com`) into IP addresses.

**Immediate Fix:**

1. **Restart the Hub:**
```bash
   cd /DATA/AppData/privacy-hub
   ./zima.sh
```

2. **Emergency Fallback DNS** (If restart fails):
   - Open your router's DHCP settings
   - Change Primary DNS to: **`9.9.9.9`** (Quad9) or **`194.242.2.2`** (Mullvad)
   - This restores internet access while you repair the Privacy Hub
   
   **Why these providers?**
   - [Mullvad DNS](https://mullvad.net/en/help/dns-over-https-and-dns-over-tls): Privacy-focused, supports DoH/DoT
   - [Quad9](https://www.quad9.net/): Non-profit, GDPR compliant

3. **Fix the Hub**, then switch DNS back to your Privacy Hub IP

---

#### Container Won't Start

**Check logs for specific service:**
```bash
docker logs  --tail 50
```

**Common Issues:**

| Error Message | Cause | Fix |
|--------------|-------|-----|
| `port is already allocated` | Another service using the port | `docker ps -a` ‚Üí Stop conflicting container |
| `no space left on device` | Disk full | `docker system prune -a` |
| `rate limit exceeded` | Docker Hub throttling | Run `./zima.sh` to re-authenticate |
| `OCI runtime error` | Corrupted container state | `./zima.sh -c` (maintenance reset) |

---

#### VPN Tunnel Not Connecting

**Diagnose Gluetun health:**
```bash
docker exec gluetun wget -qO- http://127.0.0.1:8000/v1/vpn/status
```

**Expected:** `{"status":"running"}`

**If status is "stopped":**
1. Verify your WireGuard config: `cat /DATA/AppData/privacy-hub/active-wg.conf`
2. Confirm it contains a valid `PrivateKey` (44 base64 characters)
3. Re-upload config via Dashboard ‚Üí WireGuard Profiles

---

#### Services Show "Offline" in Dashboard

**Check Hub API connectivity:**
```bash
curl http://:8081/api/status
```

- **401 Unauthorized**: API key mismatch. Check `.secrets` file for correct `HUB_API_KEY`
- **Connection refused**: Hub API container crashed. Restart: `docker restart hub-api`
- **Timeout**: Network issue between containers. Run: `./zima.sh -c` to reset networking

---

#### SSL Certificate Shows Self-Signed (Stuck)

**Check Let's Encrypt logs:**
```bash
cat /DATA/AppData/privacy-hub/config/adguard/certbot/last_run.log
```

**Common causes:**

1. **Rate Limited**: You've hit Let's Encrypt's limit (5 certs/week for same domain)
   - **Solution**: Wait for retry time shown in logs. Background job will auto-retry.

2. **Invalid deSEC Token**: Token expired or wrong permissions
   - **Solution**: Generate new token at [deSEC.io](https://desec.io) ‚Üí Dashboard ‚Üí Certificate Configuration

3. **DNS Verification Failed**: deSEC records not propagating
   - **Solution**: Check records: `dig @1.1.1.1 _acme-challenge.<YOUR_DOMAIN>`
   - If empty, manually trigger update in Dashboard ‚Üí deSEC Configuration

**Force manual retry:**
```bash
bash /DATA/AppData/privacy-hub/cert-monitor.sh
```

6. Add VPN Architecture Clarification (New subsection under Network Configuration)
markdown### üîÄ VPN Architecture: Two Tunnels Explained

This stack uses **two separate VPN systems** for different purposes. Understanding the distinction is critical:

#### 1Ô∏è‚É£ Gluetun (Outbound Privacy Tunnel)
- **Purpose**: Hides your home IP from upstream services
- **Route**: Privacy Hub ‚Üí ProtonVPN ‚Üí Internet (YouTube, Reddit, etc.)
- **Protects**: Your privacy frontends (Invidious, Redlib, Wikiless, etc.)
- **Configuration**: ProtonVPN WireGuard `.conf` file

**What It Does:**
- When Invidious fetches a YouTube video, YouTube's servers see ProtonVPN's IP
- When Redlib loads Reddit posts, Reddit sees ProtonVPN's IP
- Your real home location remains hidden from all upstream providers

**Health Check:**
```bash
docker exec gluetun wget -qO- http://ifconfig.me
# Expected: ProtonVPN IP (NOT your home IP)
```

---

#### 2Ô∏è‚É£ WG-Easy (Inbound Remote Access)
- **Purpose**: Lets you access your Privacy Hub from anywhere
- **Route**: Your Phone/Laptop ‚Üí WG-Easy ‚Üí Privacy Hub ‚Üí LAN Services
- **Protects**: Secure tunnel into your home network
- **Configuration**: Automatic (generates client configs via web UI)

**What It Does:**
- Connect from coffee shop ‚Üí VPN tunnel ‚Üí Access your private services
- Only **UDP Port 51820** is exposed to internet (encrypted, invisible to port scanners)
- Once connected, you can use http://<LAN_IP>:8081 as if you were home

**Setup Guide:**
1. Open WireGuard UI: `http://<YOUR_LAN_IP>:51821`
2. Create client config (e.g., "My-Phone")
3. Scan QR code with WireGuard mobile app
4. Connect ‚Üí You're now "inside" your home network

---

#### üìä Bandwidth Optimization

**Split Tunnel Architecture** = Smart routing for optimal speeds:

‚úÖ **Routes Through Home VPN** (WG-Easy):
- Privacy Hub Dashboard
- Local services (Portainer, AdGuard UI)
- Self-hosted apps (Memos, VERT)

‚ùå **Does NOT Route Through Home** (Direct connection):
- Netflix, Spotify, YouTube app, etc.
- General web browsing
- Large file downloads

**Why?** Your home upload speed becomes the bottleneck for VPN traffic. By only routing Privacy Hub access through the tunnel, streaming services maintain full direct speeds on your mobile device.

**Data Usage Tracking:**
- **VPN Usage**: Dashboard ‚Üí System Management ‚Üí Gluetun Status
- **WG-Easy Usage**: Dashboard ‚Üí System Management ‚Üí WireGuard Status

7. Add Performance Expectations (New subsection under Installation)
markdown### ‚è±Ô∏è Performance Expectations

**Initial Deployment Timeline:**

| Phase | Duration | What's Happening |
|-------|----------|------------------|
| Environment Validation | 1-2 min | Checking dependencies, authenticating registries |
| Image Downloads | 3-5 min | Pulling base images (nginx, postgres, redis, etc.) |
| Source Code Compilation | 8-15 min | Building Invidious, Wikiless, Scribe from source |
| Service Startup | 2-3 min | Containers initializing, databases migrating |
| **Total** | **15-25 min** | *First-time deployment on typical hardware* |

**üî• CPU/RAM Spike Warning:**  
During the "Source Code Compilation" phase, expect:
- CPU: 80-100% utilization (all cores)
- RAM: 4-6 GB active usage
- Disk I/O: Heavy write activity

**This is normal.** Modern compilers are aggressive. The dashboard will show elevated metrics during builds.

**Subsequent Updates:**  
Rebuilding a single service (e.g., Invidious) takes 3-5 minutes. The background update system prevents UI lockups.

8. Enhanced Security Section (Add to existing Security & Privacy)
markdown### üîê Threat Model & Limitations

**What This Stack Protects Against:**
‚úÖ ISP monitoring and logging of DNS queries  
‚úÖ Upstream service tracking (YouTube, Reddit profiling your IP)  
‚úÖ Ad networks and behavioral analytics  
‚úÖ Cross-site trackers and pixel surveillance  
‚úÖ Man-in-the-middle attacks on home network (via encrypted DNS)  

**What This Stack Does NOT Protect Against:**
‚ùå State-level actors with BGP/routing access  
‚ùå Compromised VPN providers (you're trusting ProtonVPN)  
‚ùå Browser fingerprinting (use uBlock Origin + Canvas Blocker)  
‚ùå Account-level tracking (logout of Google/Facebook before using frontends)  
‚ùå Traffic analysis (packet size/timing correlation attacks)  

**Realistic Privacy Stance:**  
This stack provides **strong privacy against commercial surveillance**. For threat models requiring anonymity from nation-states, consider Tor or Whonix in addition to this infrastructure.

---

### üîí Secure File Permissions

After installation, verify critical files are protected:
```bash
# Secrets file (contains passwords)
chmod 600 /DATA/AppData/privacy-hub/.secrets

# WireGuard configs (contains private keys)
chmod 600 /DATA/AppData/privacy-hub/active-wg.conf
chmod 700 /DATA/AppData/privacy-hub/wg-profiles/

# Database volumes (prevent unauthorized access)
sudo chown -R $(whoami):$(whoami) /DATA/AppData/privacy-hub/data/
```

**üö® Critical Warning:**  
The `.secrets` file contains **plaintext passwords**. If your host machine is compromised, an attacker gains full access to your infrastructure. Secure your host OS with:
- SSH key-only authentication (disable password login)
- Firewall rules (e.g., `ufw enable`)
- Regular security updates (`apt update && apt upgrade`)

9. Add Migration & Backup Section (New - Insert before Advanced Setup)
markdown## üíæ Migration & Backup

### Automated Backups

The stack creates **automatic safety backups** before any destructive operation:

- **Service Updates**: Pre-update snapshot saved to `/DATA/AppData/privacy-hub/data/backups/`
- **Database Migrations**: Timestamped SQL dumps before schema changes
- **Full System**: `./zima.sh -c` triggers complete backup before cleanup

**Manual Backup Command:**
```bash
docker exec hub-api python3 -c "import sys; sys.path.append('/app'); from server import *; migrate_service('all', 'backup-all', 'yes')"
```

---

### Restore from Backup

**Restore Invidious Database:**
```bash
# Find latest backup
ls -lh /DATA/AppData/privacy-hub/data/backups/invidious_*.sql

# Restore (replace TIMESTAMP with your backup date)
cat /DATA/AppData/privacy-hub/data/backups/invidious_TIMESTAMP.sql | \
  docker exec -i invidious-db psql -U kemal invidious
```

**Restore Entire Stack Configuration:**
```bash
# Backup location
tar -czf ~/privacy-hub-backup.tar.gz /DATA/AppData/privacy-hub/

# Restore on new machine
tar -xzf ~/privacy-hub-backup.tar.gz -C /
cd /DATA/AppData/privacy-hub
./zima.sh  # Rebuild containers with existing config
```

---

### Migrate to New Hardware

1. **On Old Machine:**
```bash
   # Stop stack
   docker compose -f /DATA/AppData/privacy-hub/docker-compose.yml down
   
   # Backup everything
   tar -czf /tmp/privacy-hub-migration.tar.gz /DATA/AppData/privacy-hub/
```

2. **Transfer File** (`scp`, USB drive, etc.)

3. **On New Machine:**
```bash
   # Extract
   sudo tar -xzf /tmp/privacy-hub-migration.tar.gz -C /
   
   # Update LAN IP in configs
   cd /DATA/AppData/privacy-hub
   OLD_IP="192.168.1.100"  # Your old IP
   NEW_IP="192.168.1.200"  # Your new IP
   find . -type f -exec sed -i "s/$OLD_IP/$NEW_IP/g" {} +
   
   # Rebuild
   ./zima.sh
```

4. **Update Router DNS** to point to new machine IP

10. Improve System Requirements (Replace existing section)
markdown## üñ•Ô∏è System Requirements & Scaling

### Minimum Specifications

| Component | Minimum | Recommended | Notes |
|-----------|---------|-------------|-------|
| **CPU** | 2 Physical Cores | 4+ Cores (8 threads) | Compilation is **core-bound** not thread-bound |
| **RAM** | 4 GB | 8 GB | Invidious database requires 512MB minimum |
| **Storage** | 32 GB | 64 GB SSD | Postgres WAL logs grow over time |
| **Network** | 100 Mbps | Gigabit | VPN tunnel limited by upstream provider |
| **OS** | Ubuntu 22.04 LTS | Debian 12 / Alpine 3.19+ | Must support Docker 24.0+ |

---

### Pre-Configured Resource Limits

Each service has strict CPU/RAM caps to prevent host exhaustion:
```yaml
# Example from docker-compose.yml
invidious:
  deploy:
    resources:
      limits: {cpus: '1.5', memory: 1024M}

gluetun:
  deploy:
    resources:
      limits: {cpus: '2.0', memory: 512M}
```

**Supports up to 30 concurrent users** on a 16GB RAM machine (based on load testing).

---

### Scaling Strategies

**For Households (1-5 users):**
- Default configuration is optimal
- No tuning required

**For Small Organizations (6-30 users):**
- Increase Invidious memory: `memory: 2048M`
- Add Redis cache: `maxmemory 512mb`
- Enable Postgres connection pooling

**Beyond 30 users?**
- Consider multi-instance deployment (outside scope of this project)
- Commercial CDN for asset delivery
- Load balancer (HAProxy/Nginx)

11. Add Common Pitfalls Callout (Insert after Network Configuration intro)
markdown### ‚ö†Ô∏è Common Pitfalls - Read Before Proceeding

<details>
<summary><strong>‚ùå Mistake #1: Dynamic MAC Addresses Enabled</strong></summary>

**Symptom:** Port forwarding stops working after reboot, services unreachable remotely

**Cause:** iOS "Private Wi-Fi Address" or Android "Randomized MAC" rotates your machine's hardware ID. The router treats it as a **new device** and assigns a different IP, breaking all static bindings.

**Fix:**
1. **iOS**: Settings ‚Üí Wi-Fi ‚Üí (i) ‚Üí Private Wi-Fi Address ‚Üí **OFF**
2. **Android**: Wi-Fi ‚Üí Advanced ‚Üí Privacy ‚Üí Use Randomized MAC ‚Üí **OFF**
3. **Windows**: Network Adapter Properties ‚Üí Configure ‚Üí Locally Administered Address ‚Üí **Disabled**

**Verify:**
```bash
ip link show | grep ether
# MAC should be consistent across reboots
```
</details>

<details>
<summary><strong>‚ùå Mistake #2: Google DNS as Secondary</strong></summary>

**Symptom:** Ads still appear, tracking still occurs

**Cause:** Devices try primary DNS first, but fall back to secondary (Google) if primary is "slow". Google's DNS (8.8.8.8) **does not block ads or trackers**.

**Fix:**
- **Router DHCP Settings:**
  - Primary DNS: `<YOUR_PRIVACY_HUB_IP>`
  - Secondary DNS: **Leave Empty** or set to same as primary
- **Never use:** 8.8.8.8, 8.8.4.4, 1.1.1.1 as secondary

**Why?** Your privacy infrastructure must be the **only** DNS resolver. Any fallback defeats the purpose.
</details>

<details>
<summary><strong>‚ùå Mistake #3: Skipping Port Forward on ISP Router</strong></summary>

**Symptom:** WireGuard connects on home network, fails from coffee shop/mobile data

**Cause:** Double NAT scenario - forwarded port 51820 on your OpenWrt router, but forgot to forward it on the ISP-provided modem/router.

**Fix:**
1. Login to **ISP router** (often 192.168.0.1 or 192.168.1.1)
2. Port Forwarding section
3. Forward **UDP 51820** to your **OpenWrt router's WAN IP**
4. Confirm with: `curl ifconfig.me` (should match WG_HOST in logs)

**Diagram:**
```
Internet ‚Üí ISP Router (NAT1) ‚Üí OpenWrt Router (NAT2) ‚Üí Privacy Hub
            ‚Üë Forward 51820     ‚Üë Forward 51820
```
</details>

<details>
<summary><strong>‚ùå Mistake #4: Expecting Instant Updates</strong></summary>

**Symptom:** Dashboard shows "No updates", but I know there are new commits

**Cause:** The update check system relies on Watchtower (for images) and git fetch (for source repos). Initial check takes 2-5 minutes.

**Timeline:**
- Click "Check Updates" ‚Üí Triggers background job
- Wait **5 minutes**
- Refresh dashboard ‚Üí Updates appear in banner

**Manual verification:**
```bash
cd /DATA/AppData/privacy-hub/sources/invidious
git fetch
git log HEAD..origin/master  # Shows commits you're behind
```
</details>

12. Add to Included Services Section
After the services table, add:
markdown### üîÑ Service Update Strategy

**Built from Source** (Customizable, Longer build time):
- Invidious, Wikiless, Scribe, VERT, Odido Booster
- Updates via `git pull` + rebuild (3-5 min per service)
- Full control over patches and modifications

**Pulled from Registry** (Fast updates, Limited customization):
- AdGuard, Portainer, WG-Easy, Redlib, Rimgo, etc.
- Updates via Watchtower (automatic weekly check)
- Zero downtime for most registry updates

**Why Build from Source?**
- Apply DHI (hardened) base image patches
- Remove telemetry and tracking code
- Optimize for low-resource environments (ZimaBoard, Raspberry Pi)

---

### üì¶ DHI (Docker Hardened Images) - Deep Dive

**Security Enhancements:**

| Standard Image | DHI Replacement | Key Changes |
|----------------|-----------------|-------------|
| `nginx:alpine` | `dhi.io/nginx:1.28-alpine3.21` | ‚Ä¢ Removed server version headers<br>‚Ä¢ Minimal modules only<br>‚Ä¢ No default welcome page |
| `python:alpine` | `dhi.io/python:3.11-alpine3.22-dev` | ‚Ä¢ Build tools removed post-install<br>‚Ä¢ No pip cache<br>‚Ä¢ Minimal stdlib |
| `postgres:14` | `dhi.io/postgres:14-alpine3.22` | ‚Ä¢ Logging to stdout only<br>‚Ä¢ No `pg_stat_statements`<br>‚Ä¢ Minimal extensions |

**Performance Benefits:**
- **50% smaller** image sizes (faster pulls)
- **Faster cold starts** (less to unpack)
- **Lower memory** (fewer background processes)

**Trust Model:**
- DHI images require authentication (hence Docker Hub token requirement)
- Source Dockerfiles available at: `https://github.com/dhi-registry/` *(example URL - adjust to actual)*

Final Integration Note
These sections should be integrated into the existing README in the order that makes sense for user flow. The key improvements are:

Immediate value (Quick Start at top)
Gradual detail (Prerequisites ‚Üí Install ‚Üí Verify ‚Üí Troubleshoot)
Deep technical (VPN Architecture, Threat Model at end)
Maintenance path (Backup/Migration for existing users)

All existing content is preserved - we've only added clarity, structure, and missing technical details that were implemented in zima.sh but not documented in the README.